import{b as i,j as t,T as c,B as g,ah as y,p as T,C as A}from"./index-BrMA8n-J.js";import{C as W}from"./ContentHeader-DdEi6kgb.js";import{C as M}from"./ContentText-uv2HPm1K.js";import{G as u}from"./Grid2-D-iaRYmP.js";import{I as z}from"./Input-D8f6zyZ_.js";const h=(l="A",p="Z")=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");return s.slice(s.indexOf(l.toUpperCase()),s.indexOf(p.toUpperCase())+1)},k=new Set(h()),B=(l,p)=>l.split("").reduce((s,a)=>(p.includes(a)&&(s[a]?s[a]++:s[a]=1),s),{}),C={E:12.3,T:9.6,A:8.1,O:7.9,N:7.2,I:7.2,S:6.6,R:6,H:5.1,L:4,D:3.7,C:3.2,U:3.1,P:2.3,F:2.3,M:2.3,W:2,Y:1.9,B:1.6,G:1.6,V:.9,K:.5,Q:.2,X:.2,J:.1,Z:.1},G=({ciphertext:l="",handleDecryptedContent:p})=>{const[s,a]=i.useState({}),[m,f]=i.useState([]),[v,q]=i.useState({}),[o,j]=i.useState(""),[D,w]=i.useState(h()),[F,O]=i.useState([]),E=(e,r)=>{const n=Object.entries(s).filter(([x,d])=>d===r);a(x=>{x[e]=r;for(let d=0;d<n.length;d++)x[n[d][0]]=null;return x}),j("")};i.useEffect(()=>{const e=h();a(e.reduce((r,n,x)=>(r={...r,[n]:null},r),{}))},[]);const S=(e,r)=>Math.abs(v[r]-C[e]);return i.useEffect(()=>{const e=l.toUpperCase(),r=h(),n=B(e,r),x=Object.values(n).reduce((b,U)=>b+U,0);for(var d in n)n[d]=n[d]*100/x;q(n);const L=h().filter(b=>e.indexOf(b)!=-1);f(L)},[l]),i.useEffect(()=>{const e=l.split("").map(r=>{if(r=r.toUpperCase(),s[r]===void 0)return{char:r,value:r};let n=s[r]!==null?s[r]:"*";return n===null&&(n="*"),{char:n,value:r,highlight:o===r.toUpperCase()}});O(e),p(e.reduce((r,n)=>r+n.char,""))},[s,l,o]),i.useEffect(()=>{const e=h().sort((r,n)=>S(r,o)-S(n,o));w(e)},[o]),t.jsxs(t.Fragment,{children:[t.jsxs(u,{container:!0,mt:"2rem",children:[t.jsxs(u,{size:6,children:[t.jsx(c,{variant:"h5",children:"Ciphertext"}),t.jsx(c,{sx:{letterSpacing:"0.3rem",overflowWrap:"break-word"},children:l.toUpperCase().split("").map(e=>{const r=k.has(e);return t.jsx("span",{style:{...r?{cursor:"pointer"}:{},...e===o?{backgroundColor:"lavender",color:"darkblue"}:{}},onClick:()=>r&&j(e),children:e})})})]}),t.jsxs(u,{size:6,children:[t.jsx(c,{variant:"h5",children:"Decrypted Text"}),t.jsx(c,{sx:{letterSpacing:"0.3rem",overflowWrap:"break-word"},children:F.map(e=>{const r=k.has(e.value);return t.jsx("span",{style:{...r?{cursor:"pointer"}:{},...e.value===o?{backgroundColor:"lavender",color:"darkblue"}:{}},onClick:()=>r&&j(e.value),children:e.char})})})]})]}),t.jsx(c,{variant:"h5",mt:"1rem",children:"Character Translations"}),t.jsx(g,{display:"flex",gap:1,width:"auto",overflow:"auto",children:m.map(e=>{var r,n;return t.jsxs(g,{display:"flex",flexDirection:"column",justifyContent:"center",mt:"0.5rem",children:[t.jsx(y,{title:`The frequency of '${e}' in the ciphertext is ${(r=v[e])==null?void 0:r.toFixed(2)}%.`,placement:"top",children:t.jsxs(c,{variant:"caption",textAlign:"center",children:[((n=v[e])==null?void 0:n.toFixed(2))??"?","%"]})}),t.jsxs(T,{variant:"outlined",color:"info",onClick:o===e?()=>j(""):()=>j(e),sx:{border:o===e?"1px solid white":"",mb:1,padding:1,minWidth:"3rem",flexDirection:"column"},children:[t.jsx(c,{children:e}),t.jsx(c,{children:s[e]??"?"})]})]})})}),o!==""&&t.jsx(u,{container:!0,display:"flex",gap:1,children:D.map(e=>t.jsxs(u,{size:"auto",flexDirection:"column",display:"flex",children:[t.jsx(T,{variant:"outlined",onClick:()=>{E(o,e)},sx:r=>({flexDirection:"column",mt:1,padding:1,minWidth:"2.4rem",backgroundColor:Object.values(s).filter(n=>n!==null).indexOf(e)!==-1?r.palette.grey[800]:r.palette.background.default}),children:t.jsx(c,{children:e})}),t.jsx(y,{title:`The English frequncy of '${e}' is ${C[e]}%`,children:t.jsxs(c,{variant:"caption",textAlign:"center",children:[C[e],"%"]})})]}))})]})},I=()=>{const[l,p]=i.useState(""),[s,a]=i.useState(""),m=f=>{a(f)};return t.jsxs(g,{children:[t.jsx("div",{children:"Monoalphabetical Substitution Component"}),t.jsxs(u,{container:!0,spacing:4,width:"100%",children:[t.jsx(u,{size:6,children:t.jsx(z,{onChange:f=>p(f.target.value),multiline:!0,fullWidth:!0})}),t.jsx(u,{size:6,children:t.jsx(c,{sx:{letterSpacing:"0.3rem",overflowWrap:"break-word"},children:s})})]}),t.jsx(G,{ciphertext:l,handleDecryptedContent:m})]})},J=()=>t.jsxs(A,{styleOverrides:{p:"1rem"},children:[t.jsx(W,{children:"Monoalphabetic Substitution"}),t.jsx(M,{children:"Decryption tool"}),t.jsx(I,{})]});export{J as default};
